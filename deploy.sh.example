#!/bin/bash

# Build and deploy to Cloud Run
gcloud run deploy bet365-predictor-api \
    --source . \
    --project bet365-fastapi-demo \
    --region us-central1 \
    --platform managed \
    --allow-unauthenticated \
    --memory 512Mi \
    --cpu 1 \
    --min-instances 0 \
    --max-instances 10 \
    --port 8080 \
    --set-env-vars="SPORTSDB_API_KEY=your_sportsdb_api_key" \
    --set-env-vars="KAFKA_BOOTSTRAP_SERVERS=your_kafka_bootstrap_servers" \
    --set-env-vars="KAFKA_SECURITY_PROTOCOL=SASL_SSL" \
    --set-env-vars="KAFKA_SASL_MECHANISM=PLAIN" \
    --set-env-vars="KAFKA_SASL_USERNAME=your_kafka_username" \
    --set-env-vars="KAFKA_PASSWORD=your_kafka_password" \
    --set-env-vars="KAFKA_TOPIC=your_kafka_topic" 